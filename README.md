# TANGO-CHO（単語帳 × DeepL × 類義語 × 4択クイズ + Fortune(EN)） PWA

英語を読んでいて分からない単語が出たら、**（見つける）→ アプリに持ち込む → 翻訳 → 保存**。  
集めた単語を **「覚えてない / デフォルト / 覚えた」** の3カテゴリで管理し、**4択クイズ**で復習できるPWAです。

加えて、**Fortune(EN)** で“まとまった英文”を毎日生成し、文章の中から語彙を効率良く拾えるようにしています。  
（占い本文は読みやすさ優先で大きめの文字サイズにしています）

制作：Masato Nasu

---

## Links

- **GitHub Pages（PWA）**  
  https://masato-nasu.github.io/TANGO-CHO/
- **Hugging Face Spaces（API / DeepL中継）**  
  ※「接続設定（HF Spaces）」から設定します

---

## できること / Features

### 1) 追加（Add）
- 英単語を入力 → **翻訳（DeepL）** → 保存
- **類義語**（必要なときだけ手動で取得）
- **ランダム**（翻訳の隣）  
  内蔵の語彙プールから1語だけ引いて、英単語欄に入れます。  
  その後、必要なら「翻訳（DeepL）」→「保存」で登録します。

### 2) 単語帳（List）
- 登録語彙を一覧表示
- ステータス：**覚えてない / デフォルト / 覚えた**
- 並び替え・検索

### 3) クイズ（Quiz）
- 登録語彙から4択クイズ
- 学習状況は端末内に保存（ローカル）

### 4) Fortune(EN)
- Birth date / Target date を指定して **Generate**
- 生成された英文は「まとまった文脈」を持つので、単語の積み上げが速くなります
- 本文内の単語をタップして、追加フォームに送れます → 翻訳 → 保存

---

## 使い方（最短）

1. **Fortune(EN)** で英文を生成  
2. 気になった語彙を拾う（タップ転送 or コピペ）  
3. **Add** で翻訳 → 保存  
4. **Quiz** で回す

---

## iPhoneでWeb上の単語をアプリへ送る（ショートカット例）

#### まず動作確認（手動）
Safariで下のURLを開き、追加欄に `subscription` が入ればOKです。  
`https://masato-nasu.github.io/TANGO-CHO/index.html?word=subscription`

#### ショートカットA：共有シートから送る（本命）
1. **ショートカット**アプリ → 右上 **＋** → 新規ショートカット
2. アクションを追加（上から順に）
   - **一致するテキストを取得（正規表現）**  
     - 入力：ショートカット入力  
     - パターン：`([A-Za-z][A-Za-z'-]{0,49})`  
     - 取得：最初の一致
   - （任意）**小文字に変換**
   - **URLエンコード**
   - **URL**（以下を作成）  
     `https://masato-nasu.github.io/TANGO-CHO/index.html?word=` +（エンコード済みテキスト）
   - **URLを開く**
3. 上部の **(i) / 詳細** → **共有シートに表示** をON  
   - 受け入れる種類：**テキスト**
4. 名前を付ける：例）**TANGO-CHOに送る** → 完了

**使い方**：Safariで英単語を選択 → **共有** → **TANGO-CHOに送る**  
→ アプリ起動＆追加欄に自動入力 → 翻訳 → 保存

#### ショートカットB：クリップボードから送る（保険）
Safariで「選択→共有」が出ない場合でも止まらない、保険です。

1. 新規ショートカット
2. 先頭に **クリップボードから取得**
3. 以降はショートカットAと同じ（抽出→エンコード→URL→開く）
4. 名前：例）**クリップボード→TANGO-CHO**

---

## よくあるトラブル（更新が反映されない）

PWAはキャッシュの影響で古い版が残ることがあります。

- Android：PWAをアンインストール→再インストールが最短  
- iPhone：ホーム画面から削除→Safariのサイトデータ削除→再追加が確実

---

## Thanks
- DeepL API
- Hugging Face Spaces
- GitHub Pages / PWA
